puts "Welcome to Ruby Text Editor v1.0"
puts "Name:"
name=gets.chomp
begin 
	doc=File.read(name).split("\n")
rescue
	doc=[]
end
input=""
i=0
if File.exist? name
	docfile=File.open(name,"r+")
else
	docfile=File.open(name,"w")	
end
while input!="s"
	puts "#{i}: #{doc[i]}"
	print "New (Enter to keep):"
	input=gets.chomp
	case input
	when "l"
		print "Lineno: "
		i=gets.chomp.to_i
	when "s"
		puts "Got save"
		next
	when ""
		i+=1
	else
		doc[i]=input
		i+=1
	end
end
doc.each do |line|
	docfile.puts line
end
docfile.close
puts "Done"
